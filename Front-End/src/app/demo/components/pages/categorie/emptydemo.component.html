<div class="grid">
	<div class="col-12">
		<p-toast></p-toast>
		
	<div class="col-12">
		<div class="card">
			<h5>Gestion Category </h5>
			<!-- <p-toggleButton [(ngModel)]="idFrozen" [onIcon]="'pi pi-lock'" offIcon="pi pi-lock-open" [onLabel]="'Unfreeze Id'" offLabel="Freeze Id" [style]="{'width': '12rem'}"></p-toggleButton> -->
			
					<div>
					<button pButton pRipple label="New" icon="pi pi-plus" class="p-button-warning mr-2" (click)="openNew()" ></button>
					<!-- <button pButton pRipple label="Delete" icon="pi pi-trash" class="p-button-danger"></button> -->
				    </div>
				
		

			<p-table [value]="cat" scrollDirection="both" [scrollable]="true" scrollHeight="400px" styleClass="mt-3" responsiveLayout="scroll">
				<ng-template pTemplate="header">
					<tr>
						<!-- <th style="width:200px" pFrozenColumn>FirstName</th> -->
						<!-- <th style="width:200px" alignFrozen="left" pFrozenColumn [frozen]="idFrozen">Id</th> -->
						<!-- <th style="width:200px">Country</th> -->
						<!-- <th stysle="width:200px">Date</th> -->
						<th style="width:200px">Name</th>
						<th style="width:200px">Description</th>
						<th style="width:200px">Designation</th>
						<th style="width:200px">Option</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-cat>
					<tr>
						<td style="width:200px" pFrozenColumn class="font-bold">{{cat.name}}</td>
						<td style="width:200px" pFrozenColumn class="font-bold">{{cat.description}}</td>
						<td style="width:200px" pFrozenColumn class="font-bold">{{cat.designation}}</td>
						
						
						<!-- <td style="width:200px" alignFrozen="left" pFrozenColumn [frozen]="idFrozen" [ngClass]="{'font-bold': idFrozen}">{{customer.id}}</td> -->
						<!-- <td style="width:200px">
							<img src="assets/demo/images/flag/flag_placeholder.png" [class]="'flag flag-' + customer.country.code" width="30">
							<span class="image-text ml-2">{{customer.country.name}}</span>
						</td> -->
						<!-- <td style="width:200px">{{customer.date}}</td> -->
						<!-- <td style="width:200px">{{customer.lastName}}</td> -->
						<!-- <td style="width:200px">
							<span [class]="'customer-badge status-' + customer.status">{{customer.email}}</span>
							
						</td> -->
						<!-- <td style="width:200px" pFrozenColumn class="font-bold">{{customer.address}}</td>
							<td style="width:200px" pFrozenColumn class="font-bold">{{customer.phone}}</td> -->
						<!-- <td style="width:200px">{{customer.activity}}</td> -->
						<!-- <td style="width:200px">
							<img [alt]="customer.representative.name" src="assets/demo/images/avatar/{{customer.representative.image}}" width="32" style="vertical-align: middle"/>
							<span class="image-text ml-2">{{customer.representative.name}}</span>
						</td> -->
						<!-- <td style="width:200px" pFrozenColumn  class="font-bold" alignFrozen="right">{{formatCurrency(customer.balance)}}</td> -->
						<td>
                            <div class="flex">
                                <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2" (click)="edit(cat)" ></button>
                                <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" (click)="deleteCat(cat.id)"></button>
                            </div>
                        </td>
					</tr>
				</ng-template>
			</p-table>
		</div>
	</div>
	<p-dialog [(visible)]="deleteCategoryDialog" header="Confirm" [modal]="true" [style]="{width:'450px'}">
		<div class="flex align-items-center justify-content-center">
			<i class="pi pi-exclamation-triangle mr-3" style="font-size: 2rem"></i>
			<span>Are you sure you want to delete selected category?</span>
		</div>
		<ng-template pTemplate="footer">
			<button pButton pRipple icon="pi pi-times" class="p-button-text" label="No" (click)="deleteCategoryDialog = false"></button>
			<button pButton pRipple icon="pi pi-check" class="p-button-text" label="Yes"(click)="delete(id)" ></button>
		</ng-template>
	</p-dialog>


	<p-dialog [(visible)]="CategoryDialogupdate" [style]="{width: '450px'}" header="update category"  class="p-fluid">
		<ng-template pTemplate="content">
			
		
		<!-- <input type="file" class="file-upload"  > -->
			<div class="field">
				<label for="name">Name</label>
				<input type="text" pInputText id="name" name="Name"  [(ngModel)]="category.name" />
				<!-- <small class="ng-dirty ng-invalid" >Name is required.</small> -->
			</div>
			<div class="field">
				<label for="name">Description</label>
				<input type="text" pInputText id="nameaa" name="description"  [(ngModel)]="category.description" />
				<!-- <small class="ng-dirty ng-invalid" >Description is required.</small> -->
			</div>
			<div class="field">
				<label htmlFor="email1">Designation</label>
				<input pInputText id="email1" type="text" name="designation" [(ngModel)]="category.designation" />
			</div>
			

			<!-- <div class="field ">
				<label htmlFor="state">Role </label>
				<p-dropdown [options]="cat" optionLabel="name" [(ngModel)]="selectedState"></p-dropdown>
			</div> -->
		
		</ng-template>
		<ng-template pTemplate="footer">
			<button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
			<button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="modifier()"></button>
		</ng-template>
	</p-dialog>



	<p-dialog [(visible)]="savecategoryDialog" [style]="{width: '450px'}" header="save Category"  class="p-fluid">
		<ng-template pTemplate="content">
			
		
		<!-- <input type="file" class="file-upload"  > -->
		<div class="field">
            <label for="name">Name</label>
            <input type="text" pInputText id="name" name="Name"  [(ngModel)]="category.name" />
            <!-- <small class="ng-dirty ng-invalid" >Name is required.</small> -->
        </div>
        <div class="field">
            <label for="name">Description</label>
            <input type="text" pInputText id="nameaa" name="description"  [(ngModel)]="category.description" />
            <!-- <small class="ng-dirty ng-invalid" >Name is required.</small> -->
        </div>
        <div class="field">
            <label htmlFor="email1">Designation</label>
            <input pInputText id="email1" type="text" name="designation" [(ngModel)]="category.designation" />
        </div>
        
		
			

			
			
		</ng-template>


		<ng-template pTemplate="footer">
			<button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="hideDialog()"></button>
			<button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveEvent()"></button>
		</ng-template>
	</p-dialog>
