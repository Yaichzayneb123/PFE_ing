
<div class="col-12">
    <div class="card">
        <p-toast></p-toast>
        <h5>Details  </h5>
                <div>
                <button pButton pRipple label="Variant" icon="pi pi-plus" class="p-button-warning mr-2" (click)="openNew()"></button>
                <button pButton pRipple label="Option" icon="pi pi-plus" class="p-button-warning" (click)="openOption()"></button>
                </div>
                <br><br>

                <div *ngFor="let variant of variantList  let i =index">
                  <!-- <div>variant {{i}}:</div> -->
                  
                    <span *ngFor="let element of variant.sousOptionList"> {{ element.name }} </span>
                  
                </div>
            
    

        <!-- <p-table  scrollDirection="both" [scrollable]="true" scrollHeight="400px" styleClass="mt-3" responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
            
                    <th style="width:200px">Taille</th>
                    <th style="width:200px">Color</th>
                    
                    <th style="width:200px">Option</th> 
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-customer>
                <tr>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.firstName}}</td>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.lastName}}</td>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.email}}</td>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.phone}}</td>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.address}}</td>
                    <td style="width:200px" pFrozenColumn class="font-bold">{{customer.country}}</td>
                    
                    
                    
                    <td>
                        <div class="flex">
                            <button pButton pRipple icon="pi pi-pencil" class="p-button-rounded p-button-success mr-2"  ></button>
                            <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning" ></button>
                        </div>
                    </td>
                </tr>
            </ng-template>
        </p-table> -->
    </div> 

</div>
<p-dialog [(visible)]="variantDialog" [style]="{width: '450px'}" header="add variant" [modal]="true" class="p-fluid"  >
        <ng-template pTemplate="content">
        
          

            <!-- <div *ngFor="let option of options">

                <div class="col-12 md:col-4">
                  <div class="field-checkbox">
                    <p-checkbox name="group1" [value]="option.id" [(ngModel)]="selectedOption" (onChange)="updateSelectedOption(option.id)"   id="ny"></p-checkbox>
                    <label for="ny">{{ option.name }}</label>
                  </div>
                </div>
                <div>
                    <div class="ml-5">
                <div *ngFor="let sousOption of option.sousOptionsList" >
                  <div class="col-12 md:col-2">
          
                    <div class="field-checkbox">
                      <p-checkbox name="{{ option.name }}" [value]="sousOption" [(ngModel)]="selectedSousOption" (onChange)="onCheckboxChange(sousOption.id)"  id="ny"></p-checkbox>
                      <label for="ny">{{ sousOption.name }}</label>
                    </div>
                 
                  </div>
                </div>

                </div>
              </div>
            </div>
           -->
           <div *ngFor="let option of options">
            <div class="col-12 md:col-4">
              <div class="field-checkbox">
                <p-checkbox name="group1" [value]="option.id" [(ngModel)]="selectedOption" (onChange)="updateSelectedOption(option.id)" id="ny"></p-checkbox>
                <label for="ny">{{ option.name }}</label>
              </div>
            </div>
            <div>
              <div class="ml-5">
                <div *ngFor="let sousOption of option.sousOptionsList">
                  <div class="col-12 md:col-2">
                    <div class="field-checkbox">
                      <p-checkbox name="{{ option.name }}" [value]="sousOption" [(ngModel)]="selectedSousOption" (onChange)="onCheckboxChange(sousOption.id)" id="ny"></p-checkbox>
                      <label for="ny">{{ sousOption.name }}</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          

              
 
            
        </ng-template>
        <ng-template pTemplate="footer">
            <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" (click)="variantDialog=false" ></button>
            <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="onSave()"></button>
        </ng-template>
    </p-dialog>

    <p-dialog [(visible)]="optionDialog" [style]="{width: '450px'}" header="add option" [modal]="true" class="p-fluid"  >
        
        <ng-template pTemplate="content">
           
            
            <h5>Option</h5>
			<span class="p-float-label">
				<input id="float-input" type="text" pInputText name="name" [(ngModel)]="option.name" >
				<label for="float-input">Name</label>
			</span>

            <h5>Sous Option</h5>
			<p-chips  [(ngModel)]="sousOptionsList"></p-chips>
    
              <!-- <button pButton pRipple  icon="pi pi-plus" class="p-button-warning mr-2" (click)="addForm()"></button> -->

            
        </ng-template>
   


        <ng-template pTemplate="footer">
            <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text" ></button>
            <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text" (click)="saveOption()"></button>
        </ng-template>
    

    </p-dialog>
    
